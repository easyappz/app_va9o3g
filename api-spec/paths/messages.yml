messages:
  get:
    summary: Get messages history
    description: Retrieve all chat messages
    tags:
      - Messages
    x-isSecure: true
    security:
      - BearerAuth: []
    parameters:
      - in: query
        name: limit
        schema:
          type: integer
          default: 100
          minimum: 1
          maximum: 1000
        description: Maximum number of messages to retrieve
      - in: query
        name: offset
        schema:
          type: integer
          default: 0
          minimum: 0
        description: Number of messages to skip
    responses:
      '200':
        description: Messages retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                messages:
                  type: array
                  items:
                    $ref: '../openapi.yml#/components/schemas/Message'
                total:
                  type: integer
                  description: Total number of messages
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../openapi.yml#/components/schemas/Error'
  post:
    summary: Send message
    description: Send a new message to the chat
    tags:
      - Messages
    x-isSecure: true
    security:
      - BearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - text
            properties:
              text:
                type: string
                minLength: 1
                maxLength: 5000
                description: Message text
    responses:
      '201':
        description: Message sent successfully
        content:
          application/json:
            schema:
              $ref: '../openapi.yml#/components/schemas/Message'
      '400':
        description: Bad request (validation error)
        content:
          application/json:
            schema:
              $ref: '../openapi.yml#/components/schemas/Error'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../openapi.yml#/components/schemas/Error'